# This file is generated by the configuration process. DO NOT EDIT!
# It provides essential information for linking to Haero's skywalker library
# from other codes using CMake.

set(SKYWALKER_PREFIX "@CMAKE_INSTALL_PREFIX@")
set(SKYWALKER_SOURCE_DIR "@PROJECT_SOURCE_DIR@")

if (NOT PROJECT_SOURCE_DIR STREQUAL SKYWALKER_SOURCE_DIR)
  # Library targets
  add_library(skywalker STATIC IMPORTED GLOBAL)
  set_target_properties(skywalker PROPERTIES IMPORTED_LOCATION "${SKYWALKER_PREFIX}/lib/libskywalker_@SKYWALKER_PRECISION@.a")

  add_library(skywalker_f90 STATIC IMPORTED GLOBAL)
  set_target_properties(skywalker_f90 PROPERTIES IMPORTED_LOCATION "${SKYWALKER_PREFIX}/lib/libskywalker_f90_@SKYWALKER_PRECISION@.a")

  set(SKYWALKER_INCLUDE_DIR ${SKYWALKER_PREFIX}/include/skywalker)
  set(SKYWALKER_LIBRARY skywalker)
  set(SKYWALKER_F90_LIBRARY skywalker_f90)
  set(SKYWALKER_PY2NCL ${SKYWALKER_PREFIX}/bin/py2ncl)
endif()

# Use this function to create a simple Skywalker driver program in C or Fortran.
function(add_skywalker_driver driver_name)
  add_executable(${driver_name} ${ARGN})
  # Is it a C or Fortran program?
  set(is_fortran FALSE)
  foreach(source ${ARGN})
    if (${source} MATCHES "[fF]90$")
      set(is_fortran TRUE)
      break()
    endif()
  endforeach()
  if (is_fortran)
    set_target_properties(${driver_name} PROPERTIES
                                         COMPILE_DEFINITIONS SKYWALKER_F90)
    target_link_libraries(${driver_name} skywalker_f90;m)
  else()
    target_link_libraries(${driver_name} skywalker;m)
  endif()
endfunction()

